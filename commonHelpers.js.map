{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const URL = \"https://pixabay.com/api/\";\n\nexport function getPicturesByQuery(query) {\n    const API_KEY = \"44783879-183c1ceb2e13ce0ff75e5d5ac\";\n\n    return fetch(`${URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`).then(\n      (res) => {  \n        if (!res.ok) {\n          throw new Error(res.status);\n        }\n        return res.json();\n      }\n    );\n  }","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\n\nexport function createGallery(images) {\n\n    const markup = images.map(\n        ({\n            webformatURL,\n            largeImageURL,\n            tags,\n            likes,\n            views,\n            comments,\n            downloads,\n        }) => {\n            return `<div class=\"gallery-images\">\n                        <a href=\"${largeImageURL}\">\n                            <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n                        </a>\n                        <div class=\"info-image\">\n                            <p class=\"info-item\">Likes: <span class=\"info-value\">${likes}</span></p>\n                            <p class=\"info-item\">Views: <span class=\"info-value\">${views}</span></p>\n                            <p class=\"info-item\">Comments: <span class=\"info-value\">${comments}</span></p>\n                            <p class=\"info-item\">Downloads: <span class=\"info-value\">${downloads}</span></p>\n                        </div>\n                    </div>`;\n        }\n    ).join('');\n    gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = '';\n}","import {getPicturesByQuery} from './js/pixabay-api';\nimport {createGallery, clearGallery} from './js/render-functions';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst searchForm = document.querySelector('.search-form');\nconst gallery = document.querySelector(\".gallery\");\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const form = document.getElementById('searchForm');\n    \n    if (form) {\n        form.addEventListener('submit', handleSearch);\n    } else {\n        console.error('Form not found');\n    }\n});\n\nfunction handleSearch(event) {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n    const queryValue = form.elements.query.value.trim().toLowerCase();\n\n    if (!queryValue) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search query.',\n        });\n        return;\n    }\n\n    clearGallery();\n    showLoader();\n\n    getPicturesByQuery(queryValue)\n        .then(response => {\n            const images = response.hits;\n            if (images.length === 0) {\n                iziToast.info({\n                    title: 'Info',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            } else {\n                createGallery(images);\n                const lightbox = new SimpleLightbox('.gallery a');\n                lightbox.refresh();\n            }\n        })\n        .catch(error => {\n            console.error('Error fetching data:', error);\n            iziToast.error({\n                title: 'Error',\n                message: 'An error occurred while fetching data. Please try again later.',\n            });\n        })\n        .finally(() => {\n            hideLoader();\n            form.reset();\n        });\n}\n\nfunction showLoader() {\n    document.getElementById('loader').style.display = 'block';\n}\n\nfunction hideLoader() {\n    document.getElementById('loader').style.display = 'none';\n}"],"names":["URL","getPicturesByQuery","query","res","gallery","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","form","handleSearch","event","queryValue","iziToast","showLoader","response","SimpleLightbox","error","hideLoader"],"mappings":"wvBAAA,MAAMA,EAAM,2BAEL,SAASC,EAAmBC,EAAO,CAGtC,OAAO,MAAM,GAAGF,CAAG,6CAAqBE,CAAK,0DAA0D,EAAE,KACtGC,GAAQ,CACP,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACZ,CACP,CACA,CCVA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAcC,EAAQ,CAElC,MAAMC,EAASD,EAAO,IAClB,CAAC,CACG,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACZ,IACmB;AAAA,mCACgBL,CAAa;AAAA,4DACYD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,mFAGHC,CAAK;AAAA,mFACLC,CAAK;AAAA,sFACFC,CAAQ;AAAA,uFACPC,CAAS;AAAA;AAAA,2BAIhG,EAAM,KAAK,EAAE,EACTV,EAAQ,mBAAmB,YAAaG,CAAM,CAClD,CAEO,SAASQ,GAAe,CAC3BX,EAAQ,UAAY,EACxB,CC1BmB,SAAS,cAAc,cAAc,EACxC,SAAS,cAAc,UAAU,EAEjD,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMY,EAAO,SAAS,eAAe,YAAY,EAE7CA,EACAA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,QAAQ,MAAM,gBAAgB,CAEtC,CAAC,EAED,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMF,EAAOE,EAAM,cACbC,EAAaH,EAAK,SAAS,MAAM,MAAM,KAAI,EAAG,cAEpD,GAAI,CAACG,EAAY,CACbC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8BACrB,CAAS,EACD,MACH,CAEDL,IACAM,IAEApB,EAAmBkB,CAAU,EACxB,KAAKG,GAAY,CACd,MAAMhB,EAASgB,EAAS,KACpBhB,EAAO,SAAW,EAClBc,EAAS,KAAK,CACV,MAAO,OACP,QAAS,0EAC7B,CAAiB,GAEDf,EAAcC,CAAM,EACH,IAAIiB,EAAe,YAAY,EACvC,QAAO,EAEhC,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CJ,EAAS,MAAM,CACX,MAAO,QACP,QAAS,gEACzB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXK,IACAT,EAAK,MAAK,CACtB,CAAS,CACT,CAEA,SAASK,GAAa,CAClB,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OACtD,CAEA,SAASI,GAAa,CAClB,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,MACtD"}